<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Transici√≥n de Im√°genes Compacta</title>
  <style>
    body {
      margin: 0;
      font-family: "Prumo", Georgia, serif;
      background: #fff;
      color: #000;
      overflow-x: hidden;
    }

    h1, h2, h3 { text-align: center; }
    h1 { font-size: 3rem; margin: 2rem 0 1rem; }
    h2 { font-size: 2rem; margin: 2rem 0 1rem; }
    h3 { font-size: 1.5rem; margin: 1rem 0 0.5rem; }

    p {
      max-width: 800px;
      margin: 0 auto 1.5rem;
      line-height: 1.6;
      font-size: 1.1rem;
    }

    .divider {
      border-top: 2px solid #cccccc;
      margin: 2rem auto;
      width: 65%;
    }

    /* imagen sticky centrada (detr√°s de los cuadros) */
    .fixed-image {
      position: sticky;
      top: 80px;
      display: block;
      margin: 0 auto;
      width: 65%;
      height: auto;
      opacity: 0;
      transition: opacity 0.5s ease-out;
      z-index: 0;
    }
    .fixed-image.show { opacity: 1; }

    /* slide */
    .image-slide {
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
      margin: 0;
      min-height: 100vh;
    }

    /* el primer slide es m√°s chico para que aparezca antes */
    .image-slide:first-child {
      min-height: 30vh;
    }

    /* cuadrito negro */
    .html-libre-hack-black {
      background-color: #000000c9;
      color: #fff;
      font-size: 1.2rem;
      line-height: 1.4;
      padding: 0.5rem;
      max-width: 600px;
      border-radius: 4px;
      opacity: 0;
      transform: translateY(20px);
      transition: opacity 0.45s ease, transform 0.45s ease;
      z-index: 2;
      text-align: center;
    }
    .html-libre-hack-black.show {
      opacity: 1;
      transform: translateY(0);
    }

    .image-section {
      position: relative;
      height: auto;
      padding: 0;
    }

    img.normal-image {
      display: block;
      margin: 0rem auto;
      width: 35%;
      max-width: 800px;
      height: auto;
    }
    
    img.normal-image2 {
      display: block;
      margin: 0rem auto;
      width: 60%;
      height: auto;
    }
  </style>
</head>
<body>

  <h1>T√≠tulo Principal</h1>
  <h2>Subt√≠tulo Inicial</h2>
  <p>Bla Bla</p>

  <p>termino el parrafo</p>

  <div class="divider"></div>

  <h2>Subt√≠tulo Secci√≥n 1</h2>
  <p>La <b>historia del catolicismo</b> en la Argentina est√° <b>estrechamente ligada al contexto pol√≠tico, social y cultural</b> del pa√≠s desde sus inicios. Desde la llegada de los espa√±oles hasta los debates actuales sobre laicidad, la Iglesia Cat√≥lica form√≥ parte de la vida espiritual de la poblaci√≥n y, al mismo tiempo, de  los procesos pol√≠ticos y sociales. Su influencia atraves√≥ gobiernos, instituciones y costumbres, lo que hace que <b>su declive resulte llamativo frente a su larga presencia en el pa√≠s.</b></p>
  <p>Seg√∫n la <b>Segunda Encuesta Nacional sobre Creencias y Actitudes Religiosas realizada por el CONICET</b> en 2019, cerca del <b>63% de la poblaci√≥n se declaraba cat√≥lica</b>, unas 30 millones de personas. Si bien esto es m√°s de la mitad de los argentinos, hay un contraste con d√©cadas anteriores. De acuerdo con el <b>censo de 1947, el 93% de los habitantes del pa√≠s eran cat√≥licos</b>, y en <b>2008 el n√∫mero todav√≠a rondaba el 75%</b>. La tendencia muestra que la identidad religiosa, antes casi uniforme, atraviesa hoy un proceso de diversificaci√≥n.</p>
  <p>Esta tendencia instala una pregunta: <b>¬øC√≥mo se explica la p√©rdida de tantos fieles y el avance de otras creencias o posturas no religiosas?</b> Para hacerlo, es necesario volver sobre los hitos que marcaron la relaci√≥n entre Iglesia, Estado y sociedad, y analizar c√≥mo esos cambios fueron modelando el paisaje religioso¬†argentino.</p>
  <img src="grafico5.png" alt="Linea de tiempo 1" class="normal-image">
  <img src="grafico6.jpg" alt="Linea de tiempo 2" class="normal-image">
  <p><b>La cantidad de personas que se identifican con el catolicismo ha disminu√≠do</b>, lo que anticipa una p√©rdida de relevancia a futuro: las nuevas generaciones heredar√°n cada vez menos pr√°cticas religiosas, y, por ende, <b>disminuir√° la transmisi√≥n de tradiciones</b> a su descendencia. Este fue el proceso que atravesaron las generaciones anteriores, que, a partir de la postura que adopt√≥ la Iglesia frente a diversos temas, se generaron opiniones polarizadas.</p>
  <p>La Reforma Universitaria de 1918, que consolid√≥ un modelo de universidad laica, y el retorno de pol√≠ticas religiosas tras el golpe de 1943, que fueron resistidas por sectores sociales crecientemente pluralistas, profundizaron los debates sociales.</p>
  <p>La distancia se profundiz√≥ con debates en los que la Iglesia fij√≥ posiciones contrarias a demandas populares como el divorcio vincular, el matrimonio igualitario y la interrupci√≥n voluntaria del embarazo.</p>
  <p>Seg√∫n datos de la Encuesta de opini√≥n sobre religi√≥n, pol√≠tica y sexualidad, llevada a cabo por la organizaci√≥n Cat√≥licas por el derecho a decidir, alrededor del 70% de las personas cat√≥licas est√°n a favor del matrimonio entre personas del mismo sexo. El 65% est√° de acuerdo en que la mujer que aborta puede seguir siendo una buena creyente, y el 90% cree que las personas homosexuales pueden ser buenos creyentes tambi√©n.</p>
  <p>La misma encuesta arroja que casi 6 de cada 10 personas conf√≠a poco o nada en la Iglesia Cat√≥lica, y que, para 4 de cada 10 personas, las noticias de abuso sexual de menores por parte de sacerdotes generaron una disminuci√≥n de su confianza hacia¬†la¬†Iglesia.</p>

  <div class="divider"></div>

  <h2>Subt√≠tulo Secci√≥n 2</h2>
  <p>Texto de ejemplo secci√≥n 2.</p>
  <h3>Subt√≠tulo chico</h3>

  <div class="image-section">
    <img src="grafico1.jpg" alt="Gr√°fico 1" class="fixed-image" id="img1">
    <img src="grafico2.jpg" alt="Gr√°fico 2" class="fixed-image" id="img2">
    <img src="grafico3.jpg" alt="Gr√°fico 3" class="fixed-image" id="img3">

    <div class="image-slide" data-index="0">
      <div class="html-libre-hack-black"><p>Los cat√≥licos argentinos combinan una fe muy fuerte en los pilares fundamentales del cristianismo con elementos de la religiosidad popular y de creencias¬†alternativas.</p></div>
    </div>

    <div class="image-slide" data-index="1">
      <div class="html-libre-hack-black"><p>Las creencias con mayor aceptaci√≥n son las figuras centrales del cristianismo: Jesucristo, Dios, la Virgen y el¬†Esp√≠ritu¬†Santo.</p></div>
    </div>

    <div class="image-slide" data-index="2">
      <div class="html-libre-hack-black"><p>Las creencias alternativas y populares, sin embargo, representan altos porcentajes de adhesi√≥n, lo que evidencia una ‚Äúfe mezclada‚Äù entre el dogma propio del catolicismo y formas de espiritualidad¬†y¬†fe.</p></div>
    </div>
  </div>

  <h3>Subt√≠tulo chico</h3>
  <img src="grafico4.jpg" alt="Otra imagen" class="normal-image2">

  <div class="divider"></div>

  <h2>Subt√≠tulo Final</h2>
  <p>Texto ejemplo secci√≥n final.</p>

  <h3>Subt√≠tulo chico</h3>
  <img src="ejemplo2.jpg" alt="Imagen ejemplo 3" class="normal-image">
  <p>Parrafo acompa√±ando imagen ejemplo 3.</p>

  <h3>Subt√≠tulo chico</h3>
  <img src="ejemplo3.jpg" alt="Imagen ejemplo 4" class="normal-image">
  <p>Parrafo acompa√±ando imagen ejemplo 4.</p>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const imgs = [
        document.getElementById('img1'),
        document.getElementById('img2'),
        document.getElementById('img3')
      ];
      const slides = Array.from(document.querySelectorAll('.image-slide'));

      const showSlide = (index) => {
        imgs.forEach((img, i) => img.classList.toggle('show', i === index));
        slides.forEach((slide, i) => {
          const box = slide.querySelector('.html-libre-hack-black');
          if (box) box.classList.toggle('show', i === index);
        });
      };

      // Observa el scroll para cambiar im√°genes
      const observer = new IntersectionObserver((entries) => {
        let activeIndex = null;
        for (const entry of entries) {
          if (entry.isIntersecting) {
            activeIndex = slides.indexOf(entry.target);
            break;
          }
        }
        if (activeIndex !== null) {
          showSlide(activeIndex);
        }
      }, {
        threshold: 0.05,
        rootMargin: "-10% 0px -70% 0px"
      });

      slides.forEach(s => observer.observe(s));

      // üîë Mostrar de entrada el primer slide (evita espacio en blanco)
      showSlide(0);

      const checkInitial = () => {
        let activeIndex = slides.findIndex(slide => {
          const rect = slide.getBoundingClientRect();
          return rect.top < window.innerHeight * 0.7 && rect.bottom > window.innerHeight * 0.1;
        });
        if (activeIndex >= 0) showSlide(activeIndex);
      };

      checkInitial();
      window.addEventListener('resize', checkInitial);
    });
  </script>
</body>
</html>
